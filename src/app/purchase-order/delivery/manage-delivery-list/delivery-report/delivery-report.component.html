<form class="form-horizontal " autocomplete="off" #updateOfferForm="ngForm" (ngSubmit)="save()">
    <div class="row">
        <div class="col-12 separator">
            <h1>{{'DeliveryManagement' | localize}}</h1>
            <a class="btn btn-link btn-empty btn-lg" href="/app/orders/manage-delivery">{{'BackToDeliveriesManagerList' | localize}} <i
                    class="simple-icon-arrow-right"></i></a>
            <div class="top-right-button-container text-zero">
                <button type="submit" class="top-right-button btn btn-primary  mb-3 mr-2"
                    [disabled]="!updateOfferForm.form.valid || saving" (click)="save()">{{ 'Save' | localize}}</button>
            </div>
        </div>
    </div>
    <!-- <div class="card mt-2">
        <div class="card-body">
            <h5 class="card-title separator pb-2 mb-3">{{ 'InvoiceInfo' | localize }}</h5>
            <div class="row">
                <div class="col-md-2">
                    <item-info title="Customer" [value]="invoice.customerName" icon="bi bi-person"></item-info>
                </div>
                <div class="col-md-2">
                    <item-info title="PoNumber" [value]="invoice.poNumber" icon=""></item-info>
                </div>
                
                <div class="col-md-2">
                    <item-info title="InvoiceNumber" [value]="invoice.id" icon="bi bi-bookmark"></item-info>
                </div>
                <div class="col-md-2">
                    <item-info title="Currency" value="{{invoice.currency == 1 ? 'Dollar' : 'Dinar'}}"
                        icon="bi bi-cash-stack"></item-info>
                </div>
                <div class="col-md-2">
                    <item-info title="ApproveDate" *ngIf="invoice.approveDate"
                        value="{{invoice.approveDate.date() | date:'dd-MM-yyyy' }}" icon="bi bi-calendar"></item-info>
                </div>
                <div class="col-md-2">
                    <item-info title="Supplier" [value]="invoice.supplierName" icon="bi bi-person"></item-info>
                </div>
            </div>
        </div>
    </div> -->
    <div class="card mt-2">
        <div class="card-body">
            <h5 class="card-title separator pb-2 mb-3">{{ 'InvoiceMaterials' | localize }}</h5>
            <div class="row">
                <div class="col-md-3">
                    <label class="form-group has-float-label">
                        <input type="text" required class="form-control" name="driverName"
                            [(ngModel)]="delivery.driverName" #driverNameModel="ngModel" #driverNameEl />
                        <span>{{ 'DriverName' | localize }}</span>
                    </label>
                    <abp-validation-summary [control]="driverNameModel" [controlEl]="driverNameEl">
                    </abp-validation-summary>
                </div>
                <div class="col-md-3">
                    <label class="form-group has-float-label">
                        <input type="text" required class="form-control" name="driverPhoneNumber"
                            [(ngModel)]="delivery.driverPhoneNumber" #driverPhoneNumberModel="ngModel" #driverPhoneNumberEl />
                        <span>{{ 'DriverPhoneNumber' | localize }}</span>
                    </label>
                    <abp-validation-summary [control]="driverPhoneNumberModel" [controlEl]="driverPhoneNumberEl">
                    </abp-validation-summary>
                </div>
                <div class="col-md-3">
                    <label class="form-group has-float-label">
                        <input type="text" required class="form-control" name="vehicleNumber"
                            [(ngModel)]="delivery.vehicleNumber" #vehicleNumberModel="ngModel" #vehicleNumberEl />
                        <span>{{ 'VehicleNumber' | localize }}</span>
                    </label>
                    <abp-validation-summary [control]="vehicleNumberModel" [controlEl]="vehicleNumberEl">
                    </abp-validation-summary>
                </div>
                <div class="col-md-3">
                    <label class="form-group has-float-label">
                        <input type="number" required class="form-control" name="transportCost"
                            [(ngModel)]="delivery.transportCost" #transportCostModel="ngModel" #transportCostEl />
                        <span>{{ 'TransportCost' | localize }}</span>
                    </label>
                    <abp-validation-summary [control]="transportCostModel" [controlEl]="transportCostEl">
                    </abp-validation-summary>
                </div>
                <div class="col-md-3">
                    <label class=" has-float-label">
                        <ng-select [items]="currencies" required bindLabel="name" bindValue="id" name="currency" [(ngModel)]="delivery.transportCostCurrency">
                        </ng-select>
                        <span>{{ 'Currency' | localize }}</span>
                    </label>
                </div>
                <div class="col-md-3">
                    <label class=" has-float-label">
                        <ng-select [items]="deliveryStatus" bindLabel="name" bindValue="id" name="status" [(ngModel)]="delivery.status">
                        </ng-select>
                        <span>{{ 'Status' | localize }}</span>
                    </label>
                </div>
                <div class="col-md-3" *ngIf="delivery?.status === 1">
                    <label class="form-group has-float-label">
                        <input type="text" required class="form-control" name="grNumber"
                            [(ngModel)]="delivery.grNumber" />
                        <span>{{ 'GrNumber' | localize }}</span>
                    </label>
                    <span *ngIf="grNumberIsRequired" class="error invalid-feedback d-block"> ThisFieldIsRequired </span>
                </div>
            </div>
        </div>
    </div>
</form>
<delivery-report-item [(deliveryItems)]="delivery.deliveryItems" [deliveryId]="delivery?.id"></delivery-report-item>
<!-- <delivery-list [customerId]="delivery?.customerId"></delivery-list> -->